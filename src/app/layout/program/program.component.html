<p>
  <mat-toolbar>
    <i class="fas fa-award"></i> &nbsp;
    <span> Program </span>
    <span class="example-spacer"></span>
    <button class="btn btn-primary" (click)="newProgram()">
      <i class="fas fa-plus-square"></i> &nbsp; new program
    </button>
  </mat-toolbar>
</p>

<mat-spinner *ngIf="isLoading"></mat-spinner>
<mat-accordion multi="true" *ngIf="programs.length > 0 && !isLoading">
  <mat-expansion-panel *ngFor="let program of programs">
    <mat-expansion-panel-header>
      {{ program.level }} -- {{ program.section }}
    </mat-expansion-panel-header>
    <section>
      <div>
        <table class="table table-bordered">
          <thead>
            <tr>
              <th scope="col">Subject</th>
              <th scope="col">coefficient</th>
              <th scope="col">description</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let lesson of program.lessons">
              <td>{{ lesson.name }}</td>
              <td>{{ lesson.coefficient }}</td>
              <td>{{ lesson.description }}</td>
              <!-- <td>
                <button
                  type="button"
                  class="btn btn-danger"
                  title="delete"
                  (click)="deleteAccountant(accountant.id)"
                >
                  <i class="far fa-trash-alt"></i>
                </button>
              </td> -->
            </tr>
          </tbody>
        </table>
      </div>
      <mat-action-row>
        <a
          mat-button
          color="primary"
          [routerLink]="['/ecms/edit-program', program.id]"
          >EDIT</a
        >
        <button mat-button color="warn" (click)="onDelete(program.id)">
          DELETE
        </button>
      </mat-action-row>
    </section>
  </mat-expansion-panel>
</mat-accordion>

<mat-paginator
  [length]="totalPrograms"
  [pageSize]="programPerPage"
  [pageSizeOptions]="pageSizeOptions"
  (page)="onChangedPage($event)"
></mat-paginator>
<p class="info-text mat-body-1" *ngIf="programs.length <= 0 && !isLoading">
  No group added yet!
</p>
